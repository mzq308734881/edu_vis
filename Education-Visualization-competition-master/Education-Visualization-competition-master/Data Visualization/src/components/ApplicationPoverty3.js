import React from 'react';
import { Card } from 'react-bootstrap';
import Ec from './Ec';
import Intro from './Intro';
import Poverty4 from './ApplicationPoverty4';

const date = ['2018-09-01', '2018-09-02', '2018-09-03', '2018-09-04', '2018-09-05', '2018-09-06', '2018-09-07', '2018-09-08', '2018-09-09', '2018-09-10', '2018-09-11', '2018-09-12', '2018-09-13', '2018-09-14', '2018-09-15', '2018-09-16', '2018-09-17', '2018-09-18', '2018-09-19', '2018-09-20', '2018-09-21', '2018-09-22', '2018-09-23', '2018-09-24', '2018-09-25', '2018-09-26', '2018-09-27', '2018-09-28', '2018-09-29', '2018-09-30', '2018-09-31', '2018-10-01', '2018-10-02', '2018-10-03', '2018-10-04', '2018-10-05', '2018-10-06', '2018-10-07', '2018-10-08', '2018-10-09', '2018-10-10', '2018-10-11', '2018-10-12', '2018-10-13', '2018-10-14', '2018-10-15', '2018-10-16', '2018-10-17', '2018-10-18', '2018-10-19', '2018-10-20', '2018-10-21', '2018-10-22', '2018-10-23', '2018-10-24', '2018-10-25', '2018-10-26', '2018-10-27', '2018-10-28', '2018-10-29', '2018-10-30', '2018-10-31', '2018-11-01', '2018-11-02', '2018-11-03', '2018-11-04', '2018-11-05', '2018-11-06', '2018-11-07', '2018-11-08', '2018-11-09', '2018-11-10', '2018-11-11', '2018-11-12', '2018-11-13', '2018-11-14', '2018-11-15', '2018-11-16', '2018-11-17', '2018-11-18', '2018-11-19', '2018-11-20', '2018-11-21', '2018-11-22', '2018-11-23', '2018-11-24', '2018-11-25', '2018-11-26', '2018-11-27', '2018-11-28', '2018-11-29', '2018-11-30', '2018-11-31', '2018-12-01', '2018-12-02', '2018-12-03', '2018-12-04', '2018-12-05', '2018-12-06', '2018-12-07', '2018-12-08', '2018-12-09', '2018-12-10', '2018-12-11', '2018-12-12', '2018-12-13', '2018-12-14', '2018-12-15', '2018-12-16', '2018-12-17', '2018-12-18', '2018-12-19', '2018-12-20', '2018-12-21', '2018-12-22', '2018-12-23', '2018-12-24', '2018-12-25', '2018-12-26', '2018-12-27', '2018-12-28', '2018-12-29', '2018-12-30', '2018-12-31']

const average_1 = [[1, 10], [2, 5], [3, 6], [4, 7], [5, 10], [9, 6], [10, 6], [11, 5], [12, 5], [13, 4], [14, 5], [16, 6], [17, 4], [18, 8], [19, 5], [20, 4], [24, 5], [25, 4], [26, 5], [27, 5], [28, 7], [29, 5], [36, 6], [37, 4], [38, 5], [39, 7], [40, 5], [41, 6], [42, 5], [45, 5], [46, 5], [47, 6], [48, 6], [49, 8], [52, 5], [53, 6], [54, 5], [55, 3], [56, 5], [59, 7], [60, 6], [61, 5], [66, 5], [67, 5], [68, 5], [69, 6], [70, 4], [73, 5], [74, 5], [75, 6], [76, 4], [77, 4], [80, 5], [81, 5], [82, 15], [83, 4], [84, 3], [87, 4], [88, 5], [89, 2], [90, 4], [91, 6], [95, 3], [96, 3], [97, 4], [98, 4], [99, 10], [100, 2], [102, 6], [103, 5], [104, 5], [105, 3], [106, 5], [107, 3], [109, 4], [110, 3], [111, 5], [112, 4], [113, 5], [114, 1], [116, 4], [117, 6], [118, 5], [119, 4], [120, 5], [121, 5]]
const average_2 = [[0, 8], [1, 8], [2, 4], [3, 5], [4, 4], [5, 5], [6, 2], [9, 5], [10, 4], [11, 5], [12, 5], [13, 4], [16, 5], [17, 6], [18, 4], [19, 4], [20, 3], [24, 7], [25, 8], [26, 4], [27, 9], [28, 5], [29, 8], [38, 3], [39, 3], [40, 4], [41, 5], [42, 3], [45, 5], [46, 7], [47, 5], [48, 4], [49, 3], [52, 5], [53, 5], [54, 5], [55, 5], [56, 7], [59, 7], [60, 8], [62, 6], [66, 6], [67, 6], [68, 7], [69, 8], [70, 8], [73, 6], [74, 8], [75, 9], [76, 9], [77, 6], [80, 7], [81, 8], [82, 8], [83, 9], [84, 8], [87, 6], [88, 5], [89, 9], [90, 5], [91, 6], [95, 6], [96, 7], [97, 6], [98, 8], [99, 9], [102, 8], [103, 6], [104, 3], [105, 7], [106, 8], [109, 8], [110, 6], [111, 6], [113, 6], [117, 7], [118, 7], [119, 6], [120, 6], [121, 5]]
const average_3 = [[1, 5], [2, 5], [3, 5], [4, 6], [5, 6], [6, 3], [9, 4], [10, 8], [11, 5], [12, 3], [13, 5], [16, 5], [17, 4], [18, 6], [19, 8], [20, 3], [24, 17], [25, 6], [26, 5], [27, 5], [28, 5], [36, 7], [37, 4], [38, 6], [39, 6], [40, 6], [41, 6], [42, 4], [45, 5], [46, 4], [47, 19], [48, 3], [49, 9], [52, 8], [53, 5], [54, 5], [55, 5], [56, 6], [59, 6], [60, 4], [66, 6], [67, 5], [68, 6], [69, 7], [70, 5], [73, 7], [74, 5], [75, 5], [76, 6], [77, 2], [80, 5], [81, 8], [82, 6], [83, 5], [84, 4], [87, 21], [88, 5], [89, 4], [90, 5], [91, 5], [95, 6], [96, 5], [97, 5], [98, 4], [99, 4], [102, 6], [103, 7], [104, 6], [105, 8], [106, 5], [109, 6], [110, 3], [111, 6], [112, 5], [113, 7], [116, 6], [117, 4], [118, 4], [119, 8], [120, 5], [121, 4]]

const cost_time_1 = [[0, 0], [1, 3], [2, 4], [3, 3], [4, 3], [5, 3], [6, 1], [7, 0], [8, 0], [9, 4], [10, 4], [11, 4], [12, 3], [13, 3], [14, 0], [15, 0], [16, 3], [17, 3], [18, 3], [19, 3], [20, 1], [21, 0], [22, 0], [23, 0], [24, 3], [25, 4], [26, 4], [27, 3], [28, 3], [29, 0], [30, 0], [31, 0], [32, 0], [33, 0], [34, 0], [35, 0], [36, 1], [37, 2], [38, 4], [39, 4], [40, 3], [41, 3], [42, 1], [43, 0], [44, 0], [45, 3], [46, 4], [47, 2], [48, 3], [49, 2], [50, 0], [51, 0], [52, 4], [53, 3], [54, 4], [55, 3], [56, 2], [57, 0], [58, 0], [59, 3], [60, 3], [61, 0], [62, 0], [63, 0], [64, 0], [65, 0], [66, 2], [67, 4], [68, 3], [69, 3], [70, 2], [71, 0], [72, 0], [73, 2], [74, 2], [75, 3], [76, 1], [77, 1], [78, 0], [79, 0], [80, 4], [81, 2], [82, 3], [83, 4], [84, 1], [85, 0], [86, 0], [87, 3], [88, 2], [89, 3], [90, 4], [91, 2], [92, 0], [93, 0], [94, 0], [95, 3], [96, 3], [97, 3], [98, 3], [99, 3], [100, 0], [101, 0], [102, 4], [103, 3], [104, 4], [105, 2], [106, 4], [107, 0], [108, 0], [109, 3], [110, 3], [111, 4], [112, 4], [113, 4], [114, 0], [115, 0], [116, 3], [117, 3], [118, 2], [119, 2], [120, 3], [121, 3], [122, 0], [123, 0]]
const cost_time_2 = [[0, 0], [1, 3], [2, 3], [3, 3], [4, 3], [5, 3], [6, 0], [7, 0], [8, 0], [9, 3], [10, 3], [11, 4], [12, 3], [13, 3], [14, 1], [15, 0], [16, 4], [17, 4], [18, 2], [19, 2], [20, 3], [21, 0], [22, 0], [23, 0], [24, 2], [25, 2], [26, 2], [27, 2], [28, 3], [29, 2], [30, 0], [31, 0], [32, 0], [33, 0], [34, 0], [35, 0], [36, 2], [37, 2], [38, 2], [39, 2], [40, 3], [41, 3], [42, 2], [43, 0], [44, 0], [45, 2], [46, 4], [47, 2], [48, 4], [49, 3], [50, 0], [51, 0], [52, 2], [53, 3], [54, 5], [55, 2], [56, 3], [57, 0], [58, 0], [59, 3], [60, 4], [61, 3], [62, 0], [63, 0], [64, 0], [65, 0], [66, 3], [67, 3], [68, 4], [69, 3], [70, 2], [71, 0], [72, 0], [73, 3], [74, 3], [75, 3], [76, 3], [77, 2], [78, 0], [79, 0], [80, 3], [81, 3], [82, 5], [83, 2], [84, 1], [85, 0], [86, 0], [87, 3], [88, 3], [89, 1], [90, 2], [91, 5], [92, 0], [93, 0], [94, 0], [95, 4], [96, 2], [97, 2], [98, 2], [99, 4], [100, 1], [101, 0], [102, 2], [103, 2], [104, 2], [105, 1], [106, 3], [107, 1], [108, 0], [109, 2], [110, 1], [111, 2], [112, 2], [113, 3], [114, 1], [115, 0], [116, 2], [117, 2], [118, 2], [119, 2], [120, 2], [121, 2], [122, 0], [123, 0]]
const cost_time_3 = [[0, 1], [1, 3], [2, 6], [3, 3], [4, 3], [5, 5], [6, 1], [7, 0], [8, 0], [9, 3], [10, 4], [11, 3], [12, 4], [13, 2], [14, 0], [15, 0], [16, 4], [17, 4], [18, 2], [19, 4], [20, 3], [21, 0], [22, 0], [23, 0], [24, 4], [25, 5], [26, 4], [27, 1], [28, 6], [29, 1], [30, 0], [31, 0], [32, 0], [33, 0], [34, 0], [35, 0], [36, 0], [37, 0], [38, 7], [39, 4], [40, 4], [41, 5], [42, 3], [43, 0], [44, 0], [45, 4], [46, 3], [47, 5], [48, 4], [49, 1], [50, 0], [51, 0], [52, 3], [53, 5], [54, 4], [55, 4], [56, 1], [57, 0], [58, 0], [59, 3], [60, 2], [61, 0], [62, 3], [63, 0], [64, 0], [65, 0], [66, 3], [67, 4], [68, 2], [69, 2], [70, 1], [71, 0], [72, 0], [73, 1], [74, 2], [75, 1], [76, 3], [77, 2], [78, 0], [79, 0], [80, 3], [81, 3], [82, 3], [83, 4], [84, 1], [85, 0], [86, 0], [87, 4], [88, 4], [89, 4], [90, 4], [91, 2], [92, 0], [93, 0], [94, 0], [95, 3], [96, 3], [97, 3], [98, 2], [99, 1], [100, 0], [101, 0], [102, 2], [103, 5], [104, 4], [105, 5], [106, 1], [107, 0], [108, 0], [109, 1], [110, 2], [111, 1], [112, 0], [113, 2], [114, 0], [115, 0], [116, 0], [117, 2], [118, 3], [119, 3], [120, 3], [121, 2], [122, 0], [123, 0]]

export default function() {
    const option = {
        color: ['#df6b66', '#71b8bc', '#7189aa'],  
        legend: {
            top: 'top',
            left: 'center',
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross'
            },
            backgroundColor: 'rgba(245, 245, 245, 0.8)',
            borderWidth: 1,
            borderColor: '#ccc',
            padding: 10,
            textStyle: {
                color: '#000'
            },
            position: function (pos, params, el, elRect, size) {
                var obj = {top: 10};
                obj[['left', 'right'][+(pos[0] < size.viewSize[0] / 2)]] = 30;
                return obj;
            }
        },
        axisPointer: {
            link: {xAxisIndex: 'all'},
            label: {
                backgroundColor: '#777'
            }
        },
        visualMap: {
            show: false,
            seriesIndex: [3, 4, 5],
            dimension: 1,
            range: [1, 4],
            inRange: {
                opacity: 0.5
            },
            outOfRange: {
                opacity: 1
            }
        },
        grid: [
            {
                left: '7%',
                right: '12%',
                top: '14%',
                height: '54%'
            },
            {
                left: '7%',
                right: '14%',
                top: '72%',
                height: '8%'
            },
            {
                left: '7%',
                right: '14%',
                top: '81%',
                height: '8%'
            },
            {
                left: '7%',
                right: '14%',
                top: '90%',
                height: '8%'
            }
        ],
        xAxis: [{
            name: '日期',
            type: 'category',
            gridIndex: 0,
            data: date,
            axisTick: {show: false},
            axisPointer: {
                z: 100
            }
        }, {
            name: '消费次数',
            type: 'category',
            gridIndex: 1,
            data: date,
            scale: true,
            axisLine: {onZero: false},
            axisTick: {show: false},
            splitLine: {show: false},
            axisLabel: {show: false},
            splitNumber: 20,
            min: 'dataMin',
            max: 'dataMax',
        }, {
            name: '消费次数',
            type: 'category',
            gridIndex: 2,
            data: date,
            scale: true,
            axisLine: {onZero: false},
            axisTick: {show: false},
            splitLine: {show: false},
            axisLabel: {show: false},
            splitNumber: 20,
            min: 'dataMin',
            max: 'dataMax',
        }, {
            name: '消费次数',
            type: 'category',
            gridIndex: 3,
            data: date,
            scale: true,
            axisLine: {onZero: false},
            axisTick: {show: false},
            splitLine: {show: false},
            axisLabel: {show: false},
            splitNumber: 20,
            min: 'dataMin',
            max: 'dataMax',
        }],
        yAxis: [{
            name: '平均消费',
            gridIndex: 0,
            type: 'value',
            axisTick: {show: false},
            splitLine: {
                lineStyle: {
                    type: 'dashed',
                    color: '#eeeeee'
                }
            },
            min: 0,
            max: 50
        }, {
            scale: true,
            gridIndex: 1,
            type: 'value',
            splitNumber: 2,
            axisLabel: {show: false},
            axisLine: {show: false},
            axisTick: {show: false},
            splitLine: {show: false},
            min: 0,
            max: 7,
        },{
            scale: true,
            gridIndex: 2,
            type: 'value',
            splitNumber: 2,
            axisLabel: {show: false},
            axisLine: {show: false},
            axisTick: {show: false},
            splitLine: {show: false},
            min: 0,
            max: 7,
        },{
            scale: true,
            gridIndex: 3,
            type: 'value',
            splitNumber: 2,
            axisLabel: {show: false},
            axisLine: {show: false},
            axisTick: {show: false},
            splitLine: {show: false},
            min: 0,
            max: 7,
        }],
        series: [{
            name: '贫困生样本1',
            xAxisIndex: 0,
            yAxisIndex: 0,
            type: 'line',
            data: average_1,
            smooth: true,
            showSymbol: false,
            lineStyle: {
                normal: {
                    opacity: 0.6,
                },
            },
        },{
            name: '贫困生样本2',
            xAxisIndex: 0,
            yAxisIndex: 0,
            type: 'line',
            data: average_2,
            smooth: true,
            showSymbol: false,
            lineStyle: { 
                normal: {
                    opacity: 0.6,
                },
            }
        },{
            name: '贫困生样本3',
            xAxisIndex: 0,
            yAxisIndex: 0,
            type: 'line',
            data: average_3,
            smooth: true,
            showSymbol: false,
            lineStyle: {
                normal: {
                    opacity: 0.6,
                },
            }
        },{
            xAxisIndex: 1,
            yAxisIndex: 1,
            type: 'bar',
            
            data: cost_time_1
        },{
            xAxisIndex: 2,
            yAxisIndex: 2,
            type: 'bar',
            
            data: cost_time_2
        },{
            xAxisIndex: 3,
            yAxisIndex: 3,
            type: 'bar',
            data: cost_time_3
        }]
    }
    return (
        <Card>
            <Card.Header>
                <h4>4-2-3 贫困生消费规律</h4>
                <Intro content={[
                    '设计理念: 以折线图形式展示日平均消费趋势，以柱状图形式展示日消费次数，超过4次消费高亮',
                    '功能: 横向对比贫困生与非贫困生的消费差异，得出贫困生消费规律'
                ]} />
            </Card.Header>
            <Card.Body>
                <div className='row'>
                    <div className='col-12 col-lg-2 align-items-center'>
                        <span className='conclusion'><strong>第三步：</strong>从消费次数和平均消费两个维度对比贫困生和非贫困生，很明显，贫困生的消费频率低，日均消费金额较少，而且日均消费频率稳定</span>
                    </div>
                    <div className='col-12 col-lg-1 align-items-center justify-content-center'>
                        <div className='right-arrow'></div>
                    </div>
                    <div className='col-12 col-lg-9'>
                        <div className='row'>
                            <div className='col-12 col-lg-6'>
                                <Ec option={option} h='400px' />
                            </div>
                            <div className='col-12 col-lg-6'>
                                <Poverty4 />
                            </div>
                        </div>
                    </div>
                </div>
            </Card.Body>
        </Card>
    )  
}
